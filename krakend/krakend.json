{
    "version": 3,
    "name": "job-api-gateway",
    "port": 8080,
    "timeout": "5000ms",
    "cache_ttl": "300s",
    "output_encoding": "json",
    "extra_config": {
        "security/cors": {
            "allow_origins": [
                "*"
            ],
            "allow_methods": [
                "GET",
                "POST",
                "PUT",
                "DELETE",
                "OPTIONS"
            ],
            "allow_headers": [
                "Origin",
                "Content-Type",
                "Accept",
                "Authorization"
            ]
        },
        "qos/ratelimit/router": {
            "max_rate": 100,
            "capacity": 100,
            "client_max_rate": 10,
            "strategy": "ip"
        }
    },
    "endpoints": [
        {
            "endpoint": "/api/health",
            "method": "GET",
            "backend": [
                {
                    "url_pattern": "/health",
                    "host": [
                        "http://app:3000"
                    ],
                    "encoding": "json",
                    "timeout": "1000ms"
                }
            ]
        },
        {
            "endpoint": "/api/applicants",
            "method": "GET",
            "extra_config": {
                "qos/ratelimit/router": {
                    "max_rate": 50,
                    "capacity": 50
                }
            },
            "backend": [
                {
                    "url_pattern": "/applicants",
                    "host": [
                        "http://app:3000"
                    ],
                    "encoding": "json",
                    "timeout": "3000ms"
                }
            ]
        },
        {
            "endpoint": "/api/applicants/{id}",
            "method": "GET",
            "backend": [
                {
                    "url_pattern": "/applicants/{id}",
                    "host": [
                        "http://app:3000"
                    ],
                    "encoding": "json",
                    "timeout": "2000ms"
                }
            ]
        },
        {
            "endpoint": "/api/applicants",
            "method": "POST",
            "extra_config": {
                "qos/ratelimit/router": {
                    "max_rate": 20,
                    "capacity": 20
                }
            },
            "backend": [
                {
                    "url_pattern": "/applicants",
                    "host": [
                        "http://app:3000"
                    ],
                    "encoding": "json",
                    "timeout": "3000ms"
                }
            ]
        },
        {
            "endpoint": "/api/applicants/{id}",
            "method": "PUT",
            "backend": [
                {
                    "url_pattern": "/applicants/{id}",
                    "host": [
                        "http://app:3000"
                    ],
                    "encoding": "json",
                    "timeout": "3000ms"
                }
            ]
        },
        {
            "endpoint": "/api/applicants/{id}",
            "method": "DELETE",
            "backend": [
                {
                    "url_pattern": "/applicants/{id}",
                    "host": [
                        "http://app:3000"
                    ],
                    "encoding": "json",
                    "timeout": "3000ms"
                }
            ]
        }
    ]
}